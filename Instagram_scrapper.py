import json
import pandas
import requests
import pandas as pd
import numpy as np
import os
import csv

def fetch_user_details(user_name,end_cursor=None):
    print('Fetching User Details : %s, %s'%(user_name,end_cursor))
    url = "https://instagram-data1.p.rapidapi.com/user/feed"
    if end_cursor is None:
        querystring = {"username":user_name}
    else:
        querystring = {"username":user_name,"end_cursor":end_cursor}
    headers = {
        'x-rapidapi-key': "6a85ad658emshafc5f5d9d0a29d2p1cf308jsn4d4581b8d99b",
        'x-rapidapi-host': "instagram-data1.p.rapidapi.com"
    }
    response = requests.request("GET", url, headers=headers, params=querystring)
    return response

def write_data_to_disk(final_df,file_name):
    print('in write function')
    final_df.to_csv('/Users/nikhilmalhotra/Documents/nikhil/insta_scrap/output_data/abc/%s'%(file_name))

if __name__ == "__main__":
    ### Reading csv file from local machine
    userhome = os.path.expanduser('~')
    csvfile = userhome + r'/Documents/nikhil/insta_scrap/source_data/isn.csv'
    total_users = []
    li_of_users = []
    with open(csvfile, "r") as f:
        total_users = sorted([line.replace('\n','') for line in f])
    li_of_users = ['gabbyepstein']
    print(len(total_users),len(li_of_users))
    #print(total_users)
    #print(li_of_users)
    li_of_invalid_users = []
    for user in li_of_users:
        try:
            flag = True
            user_response = fetch_user_details(user)
            if user_response.status_code != 200:
                continue
            else:
                user_dict = user_response.json()
            try:
                end_cursor = user_dict['end_cursor']
            except Exception as e:
                print('Exception occured : ', e)
                print(user_dict)
            file_name = user.replace('.','dot')+'.csv'
            count = user_dict['count']
            has_more = user_dict['has_more']
            inner_dict = user_dict['collector']
            final_df = pd.DataFrame(inner_dict)
            #print('in try block')
            while has_more == True and flag == True:
                user_response = fetch_user_details(user, end_cursor)
                if user_response.status_code != 200:
                    continue
                else:
                    user_dict = user_response.json()
                try:
                    end_cursor = user_dict['end_cursor']
                except Exception as e:
                    print('Exception occured : ',e)
                    print(user_dict)
                has_more = user_dict['has_more']
                inner_dict = user_dict['collector']
                final_df = pd.concat([final_df,pd.DataFrame(inner_dict)],axis=0, ignore_index=True)
                min_month = str(min(pd.to_datetime(final_df['taken_at_timestamp'], unit='s'))).replace('-', '')[0:6]
                if min_month < '201807':
                    flag = False
            final_df['post_date'] = pd.to_datetime(final_df['taken_at_timestamp'], unit='s')
            write_data_to_disk(final_df,file_name)
        except Exception as e:
            print('Exception occured : ',e)
            li_of_invalid_users.append(user)
    print(li_of_invalid_users)





        #
        #



    #user_dict = {'count': 18, 'has_more': False, 'end_cursor': None, 'collector': [{'id': '2474908993542468124', 'shortcode': 'CJYpJ3zhLIc', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/s1080x1080/134174689_715342469171823_5844039405801464181_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=103&_nc_ohc=yCxLk1bKQmAAX9IwOj3&tp=1&oh=9f467cd7920e5fd055834b3766023948&oe=602A1B2E', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/134174689_715342469171823_5844039405801464181_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=103&_nc_ohc=yCxLk1bKQmAAX9IwOj3&tp=1&oh=0c4bd23f53351bace8bbb0f4a9cc6afa&oe=602AC1EA', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': 'I haven’t been everywhere, but it’s on my list...\n#cantonmentcity #gharwalrifles', 'comments': 4, 'likes': 91, 'comments_disabled': False, 'taken_at_timestamp': 1609252164, 'location': {'id': '289877501', 'has_public_page': True, 'name': 'Lansdowne, Uttarakhand, India', 'slug': 'lansdowne-uttarakhand-india'}, 'hashtags': ['#cantonmentcity', '#gharwalrifles'], 'mentions': []}, {'id': '2438060827687731150', 'shortcode': 'CHVu2fHHz_O', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e35/s1080x1080/123943616_2731919150422139_5040313252118359273_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=cudQvQ3aAeIAX-8KFDw&tp=1&oh=95fb2bf22c88089e2648a1da5273343c&oe=6029919A', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/123943616_2731919150422139_5040313252118359273_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=cudQvQ3aAeIAX-8KFDw&tp=1&oh=f0c3ae47513262e3f7a73a1a6d7edd74&oe=602BA471', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#rishikesh ✔️ @roccoriderz', 'comments': 1, 'likes': 98, 'comments_disabled': False, 'taken_at_timestamp': 1604859520, 'location': {'id': '753015328207876', 'has_public_page': True, 'name': 'Shivasheesh Forest Camp', 'slug': 'shivasheesh-forest-camp'}, 'hashtags': ['#rishikesh'], 'mentions': ['@roccoriderz']}, {'id': '2427959476529931126', 'shortcode': 'CGx2EevnCN2', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/s1080x1080/122530893_966196127201816_4027643942486489295_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=Vlh-HKW7nFAAX-1Gm47&tp=1&oh=2bd1b2a318671c009dfb02988d7f845f&oe=602BB594', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/122530893_966196127201816_4027643942486489295_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=Vlh-HKW7nFAAX-1Gm47&tp=1&oh=1cf390eb7f8c36677f6e32da3dce9a49&oe=602A16D8', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 4, 'likes': 119, 'comments_disabled': False, 'taken_at_timestamp': 1603655345, 'location': {'id': '1061056534030334', 'has_public_page': True, 'name': 'The Leela Palace New Delhi', 'slug': 'the-leela-palace-new-delhi'}, 'hashtags': [], 'mentions': []}, {'id': '2231510186518876459', 'shortcode': 'B736rEMH5Er', 'type': 'GraphSidecar', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/82625262_532953947569481_2782624353392066182_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=105&_nc_ohc=uQJm3SHBw9AAX9k0L5J&tp=1&oh=ad3f7286f916e5edbf52e3ceba815726&oe=602AA656', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/82625262_532953947569481_2782624353392066182_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=105&_nc_ohc=uQJm3SHBw9AAX9k0L5J&tp=1&oh=ec1f91724de6d57a9ce0a49502d0774e&oe=60293CB1', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#bikeride  #roccoriderz #marchula', 'comments': 1, 'likes': 109, 'comments_disabled': False, 'taken_at_timestamp': 1580236765, 'location': {'id': '241712089352598', 'has_public_page': True, 'name': 'Marchula,uttrakhand', 'slug': 'marchulauttrakhand'}, 'hashtags': ['#bikeride', '#roccoriderz', '#marchula'], 'mentions': []}, {'id': '2216331178860639924', 'shortcode': 'B7B_XbsnHa0', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1089, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/p1080x1080/80556706_194132788409990_8659561047935541329_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=3zXWpsd1BAUAX95wH65&tp=1&oh=3b6c419cb04533059facdaab62a69fdf&oe=602C438E', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/c0.6.1440.1440a/s640x640/80556706_194132788409990_8659561047935541329_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=3zXWpsd1BAUAX95wH65&tp=1&oh=33f277d3cc1ecd75ceca96c3cd31a626&oe=602C11FE', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': 'Meet Amazon.. #camping  #bir  #himachal', 'comments': 0, 'likes': 90, 'comments_disabled': False, 'taken_at_timestamp': 1578427286, 'location': {'id': '1025000650', 'has_public_page': True, 'name': 'Camp Oak View, Bir Billing', 'slug': 'camp-oak-view-bir-billing'}, 'hashtags': ['#camping', '#bir', '#himachal'], 'mentions': []}, {'id': '2211922740634295636', 'shortcode': 'B6yVANqHZ1U', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e35/s1080x1080/81538850_193510611804354_2756948498728972048_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=106&_nc_ohc=GXTM2o01VHUAX80N682&tp=1&oh=e1cf603f7f9047cf31b6a5125d084df1&oe=602CDAB7', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/81538850_193510611804354_2756948498728972048_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=106&_nc_ohc=GXTM2o01VHUAX80N682&tp=1&oh=202226c382c78e604eb1190b8d14de28&oe=602B5B82', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': 'कल पे सवाल है जीना फ़िल्हाल है', 'comments': 2, 'likes': 81, 'comments_disabled': False, 'taken_at_timestamp': 1577901760, 'location': {'id': '273297188', 'has_public_page': True, 'name': 'Cafe Illiterati - There Is No Good Explanation For What Is Going On Here.', 'slug': 'cafe-illiterati-there-is-no-good-explanation-for-what-is-going-on-here'}, 'hashtags': [], 'mentions': []}, {'id': '2190941564784383807', 'shortcode': 'B5nyb68nJc_', 'type': 'GraphSidecar', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/74623972_426329568045488_4400688253157554418_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=CyQbco4aDyMAX-VRhge&tp=1&oh=62eec90a300700def09e300fd93dd6fe&oe=602CB9AE', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/74623972_426329568045488_4400688253157554418_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=CyQbco4aDyMAX-VRhge&tp=1&oh=f56bcb6a8a4ac19509a0a43068f52f57&oe=602C40C9', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '....and one more wicket down ! #sheokishadi', 'comments': 6, 'likes': 104, 'comments_disabled': False, 'taken_at_timestamp': 1575400609, 'location': {'id': '406959654', 'has_public_page': True, 'name': 'Narwana', 'slug': 'narwana'}, 'hashtags': ['#sheokishadi'], 'mentions': []}, {'id': '2173527050672266230', 'shortcode': 'B4p61Y1Bdv2', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e35/71524632_1132705693603763_4396326257071929153_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=r4cejYxUBqoAX-h7Vgo&tp=1&oh=1cd96ea102e29f3d97a8fd202e8dffd0&oe=602CFDC4', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/71524632_1132705693603763_4396326257071929153_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=r4cejYxUBqoAX-h7Vgo&tp=1&oh=0dcb1bdeddf03d7c511623f907eacacf&oe=602BE7FA', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#husky #warewolf', 'comments': 4, 'likes': 92, 'comments_disabled': False, 'taken_at_timestamp': 1573324637, 'location': {'id': '425139359', 'has_public_page': True, 'name': 'The Ridge, Shimla', 'slug': 'the-ridge-shimla'}, 'hashtags': ['#husky', '#warewolf'], 'mentions': []}, {'id': '2166919145249956666', 'shortcode': 'B4ScXtVneM6', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 740, 'width': 640}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e35/74938570_2651734904847587_9004576991447530375_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=hm-M72yfPU0AX-gnZ8I&tp=1&oh=18f395fa9c81f49ba62dab1d1a559152&oe=602960FE', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e35/c0.46.583.583a/74938570_2651734904847587_9004576991447530375_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=hm-M72yfPU0AX-gnZ8I&tp=1&oh=d58b30c8fac150b352e46970ba7bc499&oe=602BF57F', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 10, 'likes': 99, 'comments_disabled': False, 'taken_at_timestamp': 1572536913, 'location': {'id': '417350526', 'has_public_page': True, 'name': 'Civil Services Officers Institute, Chanakya Puri', 'slug': 'civil-services-officers-institute-chanakya-puri'}, 'hashtags': [], 'mentions': []}, {'id': '2159607971303105828', 'shortcode': 'B34eAH_n6Uk', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/75572644_403820013896336_7791501864324630609_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=nag1MVbBL7oAX-Nykyl&tp=1&oh=e91187842c22d6a38c45a5b9b8666223&oe=6029E888', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/75572644_403820013896336_7791501864324630609_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=nag1MVbBL7oAX-Nykyl&tp=1&oh=769c2a622ab9cd8ac393efc7ae30d7fb&oe=602BA263', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 0, 'likes': 78, 'comments_disabled': False, 'taken_at_timestamp': 1571665353, 'location': {'id': '218676686', 'has_public_page': True, 'name': 'Gurgaon, Haryana', 'slug': 'gurgaon-haryana'}, 'hashtags': [], 'mentions': []}, {'id': '2117702105192982405', 'shortcode': 'B1jltg4H-eF', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/69305553_125525765405906_650960656741721026_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=rbBAAftC6M4AX-4x52W&tp=1&oh=cc88716d91069f5f12979e3e2c1a353d&oe=602BFD5A', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/69305553_125525765405906_650960656741721026_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=rbBAAftC6M4AX-4x52W&tp=1&oh=7f4e54dcce9c377cc64d51b54974f0b2&oe=602C4C2B', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 3, 'likes': 82, 'comments_disabled': False, 'taken_at_timestamp': 1566669785, 'location': {'id': '1395289693903384', 'has_public_page': True, 'name': 'Kanatal', 'slug': 'kanatal'}, 'hashtags': [], 'mentions': []}, {'id': '1421979099513032428', 'shortcode': 'BO74nUAgQ7s', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/15803257_1588195647864465_2884331411282591744_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=109&_nc_ohc=bhyrFe3NdeQAX-Tp8vV&tp=1&oh=2e78f56e48450ed5b9dd20ec8036f0c6&oe=602A7A70', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/15803257_1588195647864465_2884331411282591744_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=109&_nc_ohc=bhyrFe3NdeQAX-Tp8vV&tp=1&oh=2e78f56e48450ed5b9dd20ec8036f0c6&oe=602A7A70', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#nye2017 #bestbuddies  #dance #sufinight :p', 'comments': 7, 'likes': 85, 'comments_disabled': False, 'taken_at_timestamp': 1483733139, 'location': {'id': '224494059', 'has_public_page': True, 'name': 'Electronic City', 'slug': 'electronic-city'}, 'hashtags': ['#nye2017', '#bestbuddies', '#dance', '#sufinight'], 'mentions': []}, {'id': '1336947932166946251', 'shortcode': 'BKNyw-UAP3L', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 1080, 'width': 1080}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e35/14269098_543473342510324_814065903_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=9fEoc_JgisoAX9hxnQd&tp=1&oh=f9491c239ae4820cad0e87c541df0c99&oe=602C69F2', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/sh0.08/e35/s640x640/14269098_543473342510324_814065903_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=108&_nc_ohc=9fEoc_JgisoAX9hxnQd&tp=1&oh=e780ac8751643dbf6cf69cadbb56d3a3&oe=60292FE5', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#roadtrip #hills #bestcompany', 'comments': 17, 'likes': 69, 'comments_disabled': False, 'taken_at_timestamp': 1473596634, 'location': {'id': '1016108356', 'has_public_page': True, 'name': 'Nandi Hills, Bangalore, Karnataka', 'slug': 'nandi-hills-bangalore-karnataka'}, 'hashtags': ['#roadtrip', '#hills', '#bestcompany'], 'mentions': []}, {'id': '1249428828345976658', 'shortcode': 'BFW3OZNscdS', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/13126801_1539920726313986_1067001963_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=maf3PYd9QqUAX8uPJhu&tp=1&oh=95bf9231ed282aa3dafc7095068737b0&oe=602BEE48', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/13126801_1539920726313986_1067001963_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=102&_nc_ohc=maf3PYd9QqUAX8uPJhu&tp=1&oh=95bf9231ed282aa3dafc7095068737b0&oe=602BEE48', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 11, 'likes': 47, 'comments_disabled': False, 'taken_at_timestamp': 1463163544, 'location': None, 'hashtags': [], 'mentions': []}, {'id': '1106658875013186603', 'shortcode': '9bpGIsscQr', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e15/12107593_1503310196634991_1749856196_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=107&_nc_ohc=EKAz7yDHAOQAX8PMT3X&tp=1&oh=5bb518cc36da565e3b7663513873f2fa&oe=602998EB', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e15/12107593_1503310196634991_1749856196_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=107&_nc_ohc=EKAz7yDHAOQAX8PMT3X&tp=1&oh=5bb518cc36da565e3b7663513873f2fa&oe=602998EB', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#brothers4life', 'comments': 2, 'likes': 27, 'comments_disabled': False, 'taken_at_timestamp': 1446144039, 'location': None, 'hashtags': ['#brothers4life'], 'mentions': []}, {'id': '1070915331837510829', 'shortcode': '7cp9ICscSt', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/11374411_599639646844102_1550028530_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=110&_nc_ohc=GJzncoBT5bgAX_nU5dh&tp=1&oh=b9f00913ec30247ac06c7a0d3954b0db&oe=6029B4FD', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/11374411_599639646844102_1550028530_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=110&_nc_ohc=GJzncoBT5bgAX_nU5dh&tp=1&oh=b9f00913ec30247ac06c7a0d3954b0db&oe=6029B4FD', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#memories2015 #collegediaries', 'comments': 0, 'likes': 22, 'comments_disabled': False, 'taken_at_timestamp': 1441883077, 'location': None, 'hashtags': ['#memories2015', '#collegediaries'], 'mentions': []}, {'id': '1019992562992268400', 'shortcode': '4nvdT2scRw', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/11325487_1420836598244941_1937254096_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=101&_nc_ohc=5RfESsdTR6UAX9bCcGf&tp=1&oh=2233a8607fedccebb3155506f9326246&oe=602C991E', 'thumbnail_src': 'https://scontent-lax3-1.cdninstagram.com/v/t51.2885-15/e15/11325487_1420836598244941_1937254096_n.jpg?_nc_ht=scontent-lax3-1.cdninstagram.com&_nc_cat=101&_nc_ohc=5RfESsdTR6UAX9bCcGf&tp=1&oh=2233a8607fedccebb3155506f9326246&oe=602C991E', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '', 'comments': 8, 'likes': 28, 'comments_disabled': False, 'taken_at_timestamp': 1435812610, 'location': None, 'hashtags': [], 'mentions': []}, {'id': '991841155332294554', 'shortcode': '3DukaZMcea', 'type': 'GraphImage', 'is_video': False, 'dimension': {'height': 640, 'width': 640}, 'display_url': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e15/11376068_922416111154019_796518269_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=yRjK1622L_wAX_MiC6A&tp=1&oh=ce6227286e6c4bee0dd01f9f7041fc3a&oe=602A5B21', 'thumbnail_src': 'https://scontent-lax3-2.cdninstagram.com/v/t51.2885-15/e15/11376068_922416111154019_796518269_n.jpg?_nc_ht=scontent-lax3-2.cdninstagram.com&_nc_cat=111&_nc_ohc=yRjK1622L_wAX_MiC6A&tp=1&oh=ce6227286e6c4bee0dd01f9f7041fc3a&oe=602A5B21', 'owner': {'id': '30063184', 'username': 'nikhilmalhotra'}, 'description': '#nanital', 'comments': 2, 'likes': 24, 'comments_disabled': False, 'taken_at_timestamp': 1432456701, 'location': None, 'hashtags': ['#nanital'], 'mentions': []}]}

    #print(user_np_array)
